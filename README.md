# å¤§æ¨¡å‹ä¸æ³•å¾‹ LLM + RAG

<!-- PROJECT SHIELDS -->

[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]

## ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºå¤§æ¨¡å‹çš„æ³•å¾‹é—®ç­”ç³»ç»Ÿï¼ŒLangChain ä½œä¸ºå¼€å‘æ¡†æ¶ï¼Œ DeepSeek ä½œä¸º LLM å¤§æ¨¡å‹ï¼Œæ™ºè°±çš„ Embedding-3 ä½œä¸º Embedding æ¨¡å‹ã€‚

è¯¥é¡¹ç›®æ—¨åœ¨å±•ç° LangChain å’Œ RAGï¼ˆRetrieval Augmented Generationï¼‰ çš„ä½¿ç”¨ï¼Œå¯ä½œä¸ºå¤§æ¨¡å‹åº”ç”¨çš„ HelloWorld ç¤ºä¾‹åº”ç”¨ã€‚

---

é¡¹ç›®ä¾èµ–ï¼š

- LangChainï¼šæ„å»ºå¤§æ¨¡å‹åº”ç”¨æ¡†æ¶
- DeepSeekï¼šæ·±åº¦æ±‚ç´¢å¤§æ¨¡å‹
- æ™ºè°± AIï¼šè¯åµŒå…¥ Embedding æ¨¡å‹
- Chromaï¼šå‘é‡æ•°æ®åº“


## TODO
- [x] åŸºäº LangChain å®ç° LLM+RAG+æ³•å¾‹å¯¹è¯ç³»ç»Ÿ
- [ ] æ•°æ®å¤„ç†ï¼šæ ¼å¼åŒ–ï¼Œåˆ é™¤ç©ºæ ¼ã€åˆ†éš”ç¬¦ç­‰
- [ ] å¢é‡æ›´æ–°ï¼šæ”¯æŒå¢é‡æ›´æ–°çŸ¥è¯†åº“
- [ ] å¼€å‘äº¤äº’å¼åº”ç”¨ï¼Œå¦‚ Web æˆ– App
- [ ] æ ¡éªŒRAGæ•ˆæœ

## æ•ˆæœæ¼”ç¤º

é—®é¢˜ï¼šèµµæŸä¸ºæŸå¸‚å°å­¦æ•™å¸ˆã€‚åœ¨æ‰§æ•™æœŸé—´ï¼Œæ›¾æœ‰å­¦ç”Ÿå®¶é•¿äº2019å¹´1æœˆä»¥èµµæŸéç¤¼å…¶å¥³å„¿ä¸ºç”±å‘å­¦æ ¡ä¸¾æŠ¥ï¼ŒèµµæŸå› æ­¤å†™ä¸‹ä¹¦é¢æ£€è®¨ï¼Œä¿è¯ä¸å†å‘ç”Ÿæ­¤ç±»äº‹ä»¶ã€‚ç„¶è€Œï¼Œ2019å¹´1æœˆè‡³2022å¹´6æœˆä»¥æ¥ï¼ŒèµµæŸåˆ©ç”¨æ•™å­¦ä¹‹ä¾¿ï¼Œåœ¨è¯¾é—´æ´»åŠ¨åŠè¡¥è¯¾æœŸé—´ï¼Œå¤šæ¬¡å¯¹5åå¥³å­¦ç”Ÿè¿›è¡ŒçŒ¥äºµã€‚ä½ ä½œä¸ºæ³•å®˜å®¡ç†è¯¥æ¡ˆä»¶ï¼Œè¯¥å¦‚ä½•å®¡åˆ¤ï¼Ÿ

---

LLM å›ç­”ï¼š

ä½œä¸ºæ³•å®˜ï¼Œå®¡ç†æ­¤ç±»æ¡ˆä»¶æ—¶ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆæ³•å¾‹ç¨‹åºï¼Œç¡®ä¿å…¬æ­£ã€å…¬å¹³åœ°å¤„ç†æ¡ˆä»¶ï¼ŒåŒæ—¶ä¿æŠ¤å—å®³è€…çš„æƒç›Šã€‚ä»¥ä¸‹æ˜¯å®¡ç†æ­¤ç±»æ¡ˆä»¶æ—¶å¯èƒ½é‡‡å–çš„æ­¥éª¤å’Œè€ƒè™‘å› ç´ ï¼š

1. **æ¡ˆä»¶äº‹å®çš„å®¡æŸ¥**
   - **è¯æ®æ”¶é›†**ï¼šé¦–å…ˆï¼Œéœ€è¦å®¡æŸ¥æ‰€æœ‰ç›¸å…³è¯æ®ï¼ŒåŒ…æ‹¬å—å®³è€…çš„é™ˆè¿°ã€ç›®å‡»è¯äººçš„è¯è¨€ã€å­¦æ ¡çš„è®°å½•ã€èµµæŸçš„ä¹¦é¢æ£€è®¨ç­‰ã€‚ç¡®ä¿æ‰€æœ‰è¯æ®çš„çœŸå®æ€§å’Œåˆæ³•æ€§ã€‚
   - **å—å®³è€…çš„é™ˆè¿°**ï¼šå¬å–å—å®³è€…çš„é™ˆè¿°ï¼Œäº†è§£å¥¹ä»¬çš„ç»å†å’Œæ„Ÿå—ã€‚ç¡®ä¿å¥¹ä»¬åœ¨é™ˆè¿°è¿‡ç¨‹ä¸­å¾—åˆ°å……åˆ†çš„å°Šé‡å’Œä¿æŠ¤ï¼Œé¿å…äºŒæ¬¡ä¼¤å®³ã€‚
   - **èµµæŸçš„ä¾›è¿°**ï¼šå¬å–èµµæŸçš„ä¾›è¿°ï¼Œäº†è§£ä»–å¯¹æŒ‡æ§çš„å›åº”å’Œè¾©è§£ã€‚ç¡®ä¿ä»–åœ¨æ³•å¾‹ç¨‹åºä¸­çš„æƒåˆ©å¾—åˆ°ä¿éšœã€‚

2. **æ³•å¾‹é€‚ç”¨**
   - **åˆ‘æ³•ç›¸å…³è§„å®š**ï¼šæ ¹æ®ã€Šä¸­åäººæ°‘å…±å’Œå›½åˆ‘æ³•ã€‹ç¬¬äºŒç™¾ä¸‰åä¸ƒæ¡ï¼ŒçŒ¥äºµå„¿ç«¥ç½ªæ˜¯æŒ‡ä»¥æš´åŠ›ã€èƒè¿«æˆ–å…¶ä»–æ–¹æ³•çŒ¥äºµå„¿ç«¥çš„è¡Œä¸ºã€‚èµµæŸçš„è¡Œä¸ºæ¶‰å«Œæ„æˆçŒ¥äºµå„¿ç«¥ç½ªã€‚
   - **é‡åˆ‘æ ‡å‡†**ï¼šæ ¹æ®åˆ‘æ³•è§„å®šï¼ŒçŒ¥äºµå„¿ç«¥ç½ªçš„é‡åˆ‘æ ‡å‡†è¾ƒä¸ºä¸¥å‰ï¼Œé€šå¸¸å¤„äº”å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘æˆ–è€…æ‹˜å½¹ã€‚å¦‚æœæƒ…èŠ‚ç‰¹åˆ«æ¶åŠ£ï¼Œå¯èƒ½å¤„äº”å¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘ã€‚

3. **æƒ…èŠ‚è®¤å®š**
   - **å¤šæ¬¡ä½œæ¡ˆ**ï¼šèµµæŸåœ¨2019å¹´1æœˆè‡³2022å¹´6æœˆæœŸé—´å¤šæ¬¡å¯¹5åå¥³å­¦ç”Ÿè¿›è¡ŒçŒ¥äºµï¼Œå±äºå¤šæ¬¡ä½œæ¡ˆï¼Œæƒ…èŠ‚æ¶åŠ£ã€‚
   - **åˆ©ç”¨èŒåŠ¡ä¹‹ä¾¿**ï¼šèµµæŸä½œä¸ºæ•™å¸ˆï¼Œåˆ©ç”¨æ•™å­¦ä¹‹ä¾¿å¯¹æœªæˆå¹´äººå®æ–½çŒ¥äºµï¼Œå±äºåˆ©ç”¨èŒåŠ¡ä¹‹ä¾¿å®æ–½çŠ¯ç½ªï¼Œåº”å½“ä»é‡å¤„ç½šã€‚
   - **å—å®³è€…å¹´é¾„**ï¼šå—å®³è€…å‡ä¸ºæœªæˆå¹´äººï¼Œå°¤å…¶æ˜¯å°å­¦ç”Ÿï¼Œå±äºç‰¹åˆ«éœ€è¦ä¿æŠ¤çš„ç¾¤ä½“ï¼ŒèµµæŸçš„è¡Œä¸ºå¯¹å¥¹ä»¬çš„èº«å¿ƒå¥åº·é€ æˆäº†ä¸¥é‡ä¼¤å®³ã€‚

4. **åˆ¤å†³**
   - **ç½ªåæˆç«‹**ï¼šæ ¹æ®è¯æ®å’Œæ³•å¾‹è§„å®šï¼Œè®¤å®šèµµæŸçŠ¯æœ‰çŒ¥äºµå„¿ç«¥ç½ªã€‚
   - **é‡åˆ‘**ï¼šé‰´äºèµµæŸå¤šæ¬¡ä½œæ¡ˆã€åˆ©ç”¨èŒåŠ¡ä¹‹ä¾¿ã€å—å®³è€…å‡ä¸ºæœªæˆå¹´äººç­‰æƒ…èŠ‚ï¼Œåº”å½“ä»é‡å¤„ç½šã€‚æ ¹æ®åˆ‘æ³•ç›¸å…³è§„å®šï¼Œåˆ¤å¤„èµµæŸäº”å¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘ã€‚
   - **é™„åŠ å¤„ç½š**ï¼šæ ¹æ®ã€Šä¸­åäººæ°‘å…±å’Œå›½åˆ‘æ³•ã€‹ç¬¬ä¸‰åä¸ƒæ¡ï¼Œå¯ä»¥é™„åŠ å‰¥å¤ºèµµæŸä»äº‹æ•™è‚²å·¥ä½œçš„èµ„æ ¼ï¼Œç¦æ­¢å…¶åœ¨ä¸€å®šæœŸé™å†…ä»äº‹ä¸æœªæˆå¹´äººç›¸å…³çš„èŒä¸šã€‚

5. **å—å®³è€…ä¿æŠ¤**
   - **å¿ƒç†è¾…å¯¼**ï¼šä¸ºå—å®³è€…æä¾›å¿…è¦çš„å¿ƒç†è¾…å¯¼å’Œæ”¯æŒï¼Œå¸®åŠ©å¥¹ä»¬èµ°å‡ºé˜´å½±ï¼Œæ¢å¤æ­£å¸¸ç”Ÿæ´»ã€‚
   - **éšç§ä¿æŠ¤**ï¼šåœ¨æ¡ˆä»¶å®¡ç†è¿‡ç¨‹ä¸­ï¼Œä¸¥æ ¼ä¿æŠ¤å—å®³è€…çš„éšç§ï¼Œé¿å…å¥¹ä»¬çš„å§“åã€èº«ä»½ç­‰ä¿¡æ¯è¢«å…¬å¼€ã€‚

6. **ç¤¾ä¼šå½±å“**
   - **è­¦ç¤ºæ•™è‚²**ï¼šé€šè¿‡æ­¤æ¡ˆçš„å®¡ç†å’Œåˆ¤å†³ï¼Œå‘ç¤¾ä¼šä¼ é€’ä¸¥å‰æ‰“å‡»ä¾µå®³æœªæˆå¹´äººæƒç›Šè¡Œä¸ºçš„ä¿¡å·ï¼Œè­¦ç¤ºå…¶ä»–æ½œåœ¨çŠ¯ç½ªåˆ†å­ã€‚
   - **å­¦æ ¡è´£ä»»**ï¼šå»ºè®®å­¦æ ¡åŠ å¼ºå¸ˆå¾·å¸ˆé£å»ºè®¾ï¼Œå®Œå–„ç›‘ç£æœºåˆ¶ï¼Œé˜²æ­¢ç±»ä¼¼äº‹ä»¶å†æ¬¡å‘ç”Ÿã€‚

7. **æ³•å¾‹ç¨‹åº**
   - **ä¸Šè¯‰æƒ**ï¼šèµµæŸæœ‰æƒåœ¨æ³•å®šæœŸé™å†…å¯¹åˆ¤å†³æå‡ºä¸Šè¯‰ï¼Œæ³•é™¢å°†ä¾æ³•å¤„ç†å…¶ä¸Šè¯‰è¯·æ±‚ã€‚

æ€»ç»“ï¼šä½œä¸ºæ³•å®˜ï¼Œåº”å½“ä¾æ³•å…¬æ­£å®¡ç†æ­¤æ¡ˆï¼Œç¡®ä¿èµµæŸå—åˆ°åº”æœ‰çš„æ³•å¾‹åˆ¶è£ï¼ŒåŒæ—¶ä¿æŠ¤å—å®³è€…çš„æƒç›Šï¼Œç»´æŠ¤ç¤¾ä¼šçš„å…¬å¹³æ­£ä¹‰ã€‚é€šè¿‡æ­¤æ¡ˆçš„å®¡ç†ï¼Œå‘ç¤¾ä¼šä¼ é€’å‡ºå¯¹ä¾µå®³æœªæˆå¹´äººæƒç›Šè¡Œä¸ºçš„é›¶å®¹å¿æ€åº¦ï¼Œæ¨åŠ¨ç¤¾ä¼šå¯¹æœªæˆå¹´äººä¿æŠ¤çš„è¿›ä¸€æ­¥é‡è§†ã€‚

---
LLM with RAG ï¼š

æ ¹æ®æä¾›çš„æ³•å¾‹åº“ä¿¡æ¯ï¼Œç»“åˆæ¡ˆä»¶äº‹å®ï¼ŒèµµæŸçš„è¡Œä¸ºå·²æ„æˆ**çŒ¥äºµå„¿ç«¥ç½ª**ã€‚ä»¥ä¸‹æ˜¯å®¡åˆ¤åˆ†æåŠåˆ¤å†³å»ºè®®ï¼š

**æ¡ˆä»¶äº‹å®åˆ†æ**
1. **ä¸»ä½“èº«ä»½**ï¼šèµµæŸä¸ºå°å­¦æ•™å¸ˆï¼Œå…·æœ‰ç‰¹æ®Šçš„æ•™è‚²èŒè´£å’Œç›‘æŠ¤ä¹‰åŠ¡ï¼Œå…¶è¡Œä¸ºä¸ä»…è¿åèŒä¸šé“å¾·ï¼Œè¿˜ä¸¥é‡ä¾µå®³æœªæˆå¹´äººæƒç›Šã€‚
2. **è¡Œä¸ºæ€§è´¨**ï¼šèµµæŸåˆ©ç”¨æ•™å­¦ä¾¿åˆ©ï¼Œå¤šæ¬¡å¯¹5åå¥³å­¦ç”Ÿå®æ–½çŒ¥äºµï¼Œä¸”éƒ¨åˆ†è¡Œä¸ºå‘ç”Ÿåœ¨å…¬å…±åœºæ‰€ï¼ˆå¦‚è¯¾é—´æ´»åŠ¨åŠè¡¥è¯¾æœŸé—´ï¼‰ï¼Œæƒ…èŠ‚æ¶åŠ£ã€‚
3. **ä¸»è§‚æ¶æ€§**ï¼šèµµæŸæ›¾å› ç±»ä¼¼è¡Œä¸ºè¢«ä¸¾æŠ¥ï¼Œå¹¶å†™ä¸‹ä¹¦é¢æ£€è®¨ï¼Œä½†å…¶ä¸æ€æ‚”æ”¹ï¼Œç»§ç»­å®æ–½çŠ¯ç½ªè¡Œä¸ºï¼Œä¸»è§‚æ¶æ€§è¾ƒå¤§ã€‚
4. **ç¤¾ä¼šå±å®³æ€§**ï¼šèµµæŸçš„è¡Œä¸ºä¸¥é‡ç ´åæ•™å­¦ç§©åºï¼Œå¯¹è¢«å®³å­¦ç”ŸåŠå…¶å®¶åº­é€ æˆä¸¥é‡çš„èº«å¿ƒä¼¤å®³ï¼Œç¤¾ä¼šå±å®³æ€§æå¤§ã€‚

**æ³•å¾‹é€‚ç”¨**
æ ¹æ®ã€Šä¸­åäººæ°‘å…±å’Œå›½åˆ‘æ³•ã€‹ç¬¬äºŒç™¾ä¸‰åä¸ƒæ¡å…³äº**çŒ¥äºµå„¿ç«¥ç½ª**çš„è§„å®šï¼š
- ä»¥æš´åŠ›ã€èƒè¿«æˆ–å…¶ä»–æ–¹æ³•çŒ¥äºµå„¿ç«¥çš„ï¼Œå¤„äº”å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘æˆ–è€…æ‹˜å½¹ã€‚
- èšä¼—æˆ–è€…åœ¨å…¬å…±åœºæ‰€å½“ä¼—çŒ¥äºµå„¿ç«¥çš„ï¼Œå¤„äº”å¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘ã€‚

èµµæŸçš„è¡Œä¸ºç¬¦åˆä»¥ä¸‹åŠ é‡æƒ…èŠ‚ï¼š
1. **å¤šæ¬¡å®æ–½çŒ¥äºµ**ï¼šèµµæŸåœ¨2019å¹´1æœˆè‡³2022å¹´6æœˆæœŸé—´å¤šæ¬¡å¯¹5åå¥³å­¦ç”Ÿå®æ–½çŒ¥äºµã€‚
2. **åˆ©ç”¨æ•™å¸ˆèº«ä»½**ï¼šèµµæŸåˆ©ç”¨æ•™å­¦ä¾¿åˆ©å®æ–½çŠ¯ç½ªï¼Œå±äºåˆ©ç”¨ç‰¹æ®Šèº«ä»½ä¾µå®³æœªæˆå¹´äººæƒç›Šã€‚
3. **å…¬å…±åœºæ‰€å½“ä¼—å®æ–½**ï¼šéƒ¨åˆ†è¡Œä¸ºå‘ç”Ÿåœ¨è¯¾é—´æ´»åŠ¨åŠè¡¥è¯¾æœŸé—´ï¼Œå±äºå…¬å…±åœºæ‰€å½“ä¼—å®æ–½çŒ¥äºµã€‚
4. **æ›¾å› ç±»ä¼¼è¡Œä¸ºè¢«ä¸¾æŠ¥**ï¼šèµµæŸæ›¾å› éç¤¼å­¦ç”Ÿè¢«ä¸¾æŠ¥å¹¶å†™ä¸‹ä¹¦é¢æ£€è®¨ï¼Œä½†ä»ç»§ç»­å®æ–½çŠ¯ç½ªè¡Œä¸ºï¼Œä¸»è§‚æ¶æ€§è¾ƒå¤§ã€‚


**åˆ¤å†³å»ºè®®**
1. **ç½ªåè®¤å®š**ï¼šèµµæŸçš„è¡Œä¸ºæ„æˆ**çŒ¥äºµå„¿ç«¥ç½ª**ï¼Œä¸”æƒ…èŠ‚ä¸¥é‡ï¼Œç¬¦åˆåŠ é‡å¤„ç½šçš„æƒ…å½¢ã€‚
2. **é‡åˆ‘å»ºè®®**ï¼š
   - æ ¹æ®æ³•å¾‹è§„å®šåŠç±»ä¼¼æ¡ˆä¾‹ï¼ˆå¦‚ç¥æŸæ¡ˆï¼‰ï¼ŒèµµæŸçš„è¡Œä¸ºåº”åˆ¤å¤„**äº”å¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘**ã€‚
   - é‰´äºèµµæŸæ›¾å› ç±»ä¼¼è¡Œä¸ºè¢«ä¸¾æŠ¥ä»ä¸æ€æ‚”æ”¹ï¼Œä¸»è§‚æ¶æ€§è¾ƒå¤§ï¼Œå»ºè®®ä»é‡å¤„ç½šã€‚
3. **é™„åŠ å¤„ç½š**ï¼š
   - ç¦æ­¢èµµæŸä»äº‹ä¸æœªæˆå¹´äººç›¸å…³çš„èŒä¸šï¼ˆå¦‚æ•™å¸ˆã€åŸ¹è®­å¸ˆç­‰ï¼‰ã€‚
   - å¯¹è¢«å®³å­¦ç”ŸåŠå…¶å®¶åº­è¿›è¡Œå¿ƒç†ç–å¯¼åŠå¿…è¦çš„ç»æµèµ”å¿ã€‚

**åˆ¤å†³ç»“æœ**
ç»¼ä¸Šæ‰€è¿°ï¼Œåˆ¤å†³å¦‚ä¸‹ï¼š
1. èµµæŸçŠ¯**çŒ¥äºµå„¿ç«¥ç½ª**ï¼Œåˆ¤å¤„**æœ‰æœŸå¾’åˆ‘ä¸ƒå¹´**ã€‚
2. ç¦æ­¢èµµæŸä»äº‹ä¸æœªæˆå¹´äººç›¸å…³çš„èŒä¸šï¼ŒæœŸé™ä¸º**ç»ˆèº«**ã€‚
3. è´£ä»¤èµµæŸèµ”å¿è¢«å®³å­¦ç”ŸåŠå…¶å®¶åº­çš„ç»æµæŸå¤±ï¼Œå¹¶æ‰¿æ‹…ç›¸åº”çš„å¿ƒç†æ²»ç–—è´¹ç”¨ã€‚


**åˆ¤å†³ä¾æ®**
1. ã€Šä¸­åäººæ°‘å…±å’Œå›½åˆ‘æ³•ã€‹ç¬¬äºŒç™¾ä¸‰åä¸ƒæ¡ã€‚
2. æœ€é«˜äººæ°‘æ³•é™¢å…³äºä¿æŠ¤æœªæˆå¹´äººæƒç›Šçš„ç›¸å…³å¸æ³•è§£é‡ŠåŠå…¸å‹æ¡ˆä¾‹ã€‚

ä»¥ä¸Šåˆ¤å†³æ—¨åœ¨ä¸¥æƒ©çŠ¯ç½ªè¡Œä¸ºï¼Œä¿æŠ¤æœªæˆå¹´äººåˆæ³•æƒç›Šï¼Œç»´æŠ¤ç¤¾ä¼šå…¬å¹³æ­£ä¹‰ã€‚

---

è¯¥é—®é¢˜ç”±ç¥æŸæ¡ˆæ”¹ç¼–è€Œæˆã€‚

è¯„ä»·ï¼šLLM + RAG å®¡åˆ¤ç»“æœä¸ç¥æŸçš„æ¡ˆä¾‹å®¡åˆ¤ç»“æœåŸºæœ¬ä¸€è‡´ï¼Œå¹¶ä¸”å¼•ç”¨äº†è¯¥æ¡ˆä»¶ã€‚ğŸ‘ğŸ‘ğŸ‘

![å°å­¦æ•™å¸ˆæ€§ä¾µå„¿ç«¥è¢«é‡åˆ¤](./figure/å°å­¦æ•™å¸ˆæ€§ä¾µå„¿ç«¥è¢«é‡åˆ¤.png)


## é¡¹ç›®ç»“æ„
```
.
â”œâ”€â”€ README.md   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ chroma      # å‘é‡å­˜å‚¨ç›®å½•
â”œâ”€â”€ law_data    # çŸ¥è¯†åº“ç›®å½•
â”œâ”€â”€ main.py     # ä¸»ç¨‹åº
â”œâ”€â”€ requirements.txt # ä¾èµ–
â”œâ”€â”€ vector.py   # åŸºäº Chroma çš„å‘é‡ç±»
â””â”€â”€ zhipuai_embedding.py # æ™ºè°± AI çš„ Embedding ç±»
```

## å‰ç½®å‡†å¤‡

å…‹éš†é¡¹ç›®
```shell
git clone https://github.com/xiaolinstar/llm-law.git
# git clone git@github.com:xiaolinstar/llm-law.git
```

è¿›å…¥ç›®å½•
```shell
cd llm-law
```

å®‰è£…ä¾èµ–

```shell
# 1. åˆ›å»º conda ç¯å¢ƒ
conda create -n llm-law python=3.10
# 2. æ¿€æ´» conda ç¯å¢ƒ
conda activate llm-law
# 3. å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

DeepSeek å’Œ æ™ºè°± AI çš„ API å¯†é’¥éœ€è¦åœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®ã€‚

ä¸€æ¬¡æ€§çš„ï¼š
```shell
export OPENAI_API_KEY="deepseek-api-xxx"
export ZHIPUAI_API_KEY="zhipu-api-xxx"
```

æ°¸ä¹…æœ‰æ•ˆçš„ï¼š
```shell
echo "export OPENAI_API_KEY=\"deepseek-api-xxx\"" >> ~/.bashrc
echo "export ZHIPUAI_API_KEY=\"zhipu-api-xxx\"" >> ~/.bashrc
```

`.bashrc` æ ¹æ®ä½ çš„ shell æƒ…å†µå¯ä»¥æ˜¯ `.zshrc`æˆ–å…¶ä»–ã€‚

## å¿«é€Ÿå¼€å§‹

è¿è¡Œä¸»ç¨‹åº

```shell
python main.py
```

ä¿®æ”¹é—®é¢˜ï¼š`main.py` ä¸­çš„ `questions` å˜é‡ï¼Œä»£ç ç¬¬ 50 è¡Œ

```
questions = ["èµµæŸä¸ºæŸå¸‚å°å­¦æ•™å¸ˆã€‚åœ¨æ‰§æ•™æœŸé—´ï¼Œæ›¾æœ‰å­¦ç”Ÿå®¶é•¿äº2019å¹´1æœˆä»¥èµµæŸéç¤¼å…¶å¥³å„¿ä¸ºç”±å‘å­¦æ ¡ä¸¾æŠ¥ï¼ŒèµµæŸå› æ­¤å†™ä¸‹ä¹¦é¢æ£€è®¨ï¼Œä¿è¯ä¸å†å‘ç”Ÿæ­¤ç±»äº‹ä»¶ã€‚ç„¶è€Œï¼Œ2019å¹´1æœˆè‡³2022å¹´6æœˆä»¥æ¥ï¼ŒèµµæŸåˆ©ç”¨æ•™å­¦ä¹‹ä¾¿ï¼Œåœ¨è¯¾é—´æ´»åŠ¨åŠè¡¥è¯¾æœŸé—´ï¼Œå¤šæ¬¡å¯¹5åå¥³å­¦ç”Ÿè¿›è¡ŒçŒ¥äºµã€‚ä½ ä½œä¸ºæ³•å®˜å®¡ç†è¯¥æ¡ˆä»¶ï¼Œè¯¥å¦‚ä½•å®¡åˆ¤ï¼Ÿ"]
```

## è‡ªå®šä¹‰çŸ¥è¯†åº“
RAG åŸºäºå‘é‡æ£€ç´¢ï¼Œéœ€è¦æœ‰çŸ¥è¯†åº“ã€‚

çŸ¥è¯†åº“çš„ç›®å½•ä¸º `./law_data`ï¼Œæœ¬é¡¹ç›®ä»£ç ä¸­æ”¯æŒ PDF å’Œ Markdown æ ¼å¼ã€‚

é‡è¦å‚æ•°å¯åœ¨ `main.py` ä¸­ä¿®æ”¹ï¼š

```
# é‡è¦å‚æ•°ï¼Œå¯è‡ªè¡Œä¿®æ”¹
# DeepSeek LLM
TEMPERATURE = 0.7
MAX_TOKENS = 1024

# Vectordb
DATA_DIR = "./law_data"
PERSIST_DIR = "./chroma"
CHUNK_SIZE = 20
OVERLAP = 5
```

å¦‚æœæ‚¨åœ¨ä½“éªŒä¹‹åï¼Œè¿›ä¸€æ­¥å°è¯•ï¼š

1. ä¿®æ”¹å‚æ•°ï¼ˆCHUNK_SIZE æˆ– OVERLAPï¼‰
2. æ›´æ–°çŸ¥è¯†åº“

è¿›è¡Œä»¥ä¸‹æ“ä½œå³å¯ï¼š

1. ä¿®æ”¹ `main.py` ä¸­çš„å‚æ•°
2. æ›´æ–° `./law_data` ç›®å½•ä¸‹çš„æ–‡ä»¶
3. åˆ é™¤ `./chroma` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶

ç„¶åé‡æ–°è¿è¡Œ `main.py` å³å¯ã€‚

## Reference

[1]. LangChain https://github.com/langchain-ai/langchain

[2]. åŠ¨æ‰‹å­¦ä¹ å¤§æ¨¡å‹ https://datawhalechina.github.io/llm-universe/#/ 

[3]. LangChain è‡ªå®šä¹‰ æ™ºè°± AI Embeddingç±» https://github.com/datawhalechina/llm-universe/blob/main/notebook/C3%20%E6%90%AD%E5%BB%BA%E7%9F%A5%E8%AF%86%E5%BA%93/zhipuai_embedding.py

[4]. DeepSeek API æ–‡æ¡£ https://api-docs.deepseek.com/zh-cn/

[5]. æ™ºè°±å¤§æ¨¡å‹API Keys https://bigmodel.cn/usercenter/proj-mgmt/apikeys

[6]. é¢å‘æ³•å¾‹åœºæ™¯çš„å¤§æ¨¡å‹ RAG æ£€ç´¢å¢å¼ºè§£å†³æ–¹æ¡ˆ https://developer.aliyun.com/article/1649317?spm=5176.2020520130.0.0.67bd697b9cRzjc&msctype=pmsg&mscareaid=cn&mscsiteid=cn&mscmsgid=7630125021100903556&yunge_info=pmsg___7630125021100903556&tlog=yuekan_2501

[7]. Anaconda https://anaconda.org/anaconda/conda

[8]. ä¿æŠ¤æœªæˆå¹´äººæƒç›Šåå¤§ä¼˜ç§€æ¡ˆä¾‹ https://www.court.gov.cn/zixun/xiangqing/161502.html

## è”ç³»ä½œè€…

1. åœ¨issuesä¸­æé—®
2. è”ç³»é‚®ç®± :email: xing.xiaolin@foxmail.com

<!-- links -->

[contributors-shield]: https://img.shields.io/github/contributors/xiaolinstar/llm-law.svg?style=flat-square
[contributors-url]: https://github.com/xiaolinstar/llm-law/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/xiaolinstar/llm-law.svg?style=flat-square
[forks-url]: https://github.com/xiaolinstar/llm-law/network/members
[stars-shield]: https://img.shields.io/github/stars/xiaolinstar/llm-law.svg?style=flat-square
[stars-url]: https://github.com/xiaolinstar/llm-law/stargazers
[issues-shield]: https://img.shields.io/github/issues/xiaolinstar/llm-law.svg?style=flat-square
[issues-url]: https://github.com/xiaolinstar/llm-law/issues